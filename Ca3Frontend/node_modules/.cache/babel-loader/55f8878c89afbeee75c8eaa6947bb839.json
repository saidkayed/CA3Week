{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\sidad\\\\Desktop\\\\JAVA PROG\\\\ReactSecur\\\\reactsec\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\sidad\\\\Desktop\\\\JAVA PROG\\\\ReactSecur\\\\reactsec\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nvar URL = \"http://localhost:8080/jwtbackend\";\n\nfunction handleHttpErrors(res) {\n  if (!res.ok) {\n    return Promise.reject({\n      status: res.status,\n      fullError: res.json()\n    });\n  }\n\n  return res.json();\n}\n\nvar ApiFacade =\n/*#__PURE__*/\nfunction () {\n  function ApiFacade() {\n    _classCallCheck(this, ApiFacade);\n  }\n\n  _createClass(ApiFacade, [{\n    key: \"makeOptions\",\n    value: function makeOptions(method, addToken, body) {\n      var opts = {\n        method: method,\n        headers: {\n          \"Content-type\": \"application/json\",\n          'Accept': 'application/json'\n        }\n      };\n\n      if (addToken && this.loggedIn()) {\n        opts.headers[\"x-access-token\"] = this.getToken();\n      }\n\n      if (body) {\n        opts.body = JSON.stringify(body);\n      }\n\n      return opts;\n    }\n  }]);\n\n  return ApiFacade;\n}();\n\nvar facade = new ApiFacade();\nexport default facade;","map":{"version":3,"sources":["C:\\Users\\sidad\\Desktop\\JAVA PROG\\ReactSecur\\reactsec\\src\\apiFacade.js"],"names":["URL","handleHttpErrors","res","ok","Promise","reject","status","fullError","json","ApiFacade","method","addToken","body","opts","headers","loggedIn","getToken","JSON","stringify","facade"],"mappings":";;AAAA,IAAMA,GAAG,GAAG,kCAAZ;;AAEA,SAASC,gBAAT,CAA0BC,GAA1B,EAA+B;AAC9B,MAAI,CAACA,GAAG,CAACC,EAAT,EAAa;AACX,WAAOC,OAAO,CAACC,MAAR,CAAe;AAAEC,MAAAA,MAAM,EAAEJ,GAAG,CAACI,MAAd;AAAsBC,MAAAA,SAAS,EAAEL,GAAG,CAACM,IAAJ;AAAjC,KAAf,CAAP;AACD;;AACD,SAAON,GAAG,CAACM,IAAJ,EAAP;AACA;;IAEKC,S;;;;;;;;;gCAEOC,M,EAAOC,Q,EAASC,I,EAAM;AAChC,UAAIC,IAAI,GAAG;AACTH,QAAAA,MAAM,EAAEA,MADC;AAETI,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,oBAAU;AAFH;AAFA,OAAX;;AAOA,UAAIH,QAAQ,IAAI,KAAKI,QAAL,EAAhB,EAAiC;AAC/BF,QAAAA,IAAI,CAACC,OAAL,CAAa,gBAAb,IAAiC,KAAKE,QAAL,EAAjC;AACD;;AACD,UAAIJ,IAAJ,EAAU;AACRC,QAAAA,IAAI,CAACD,IAAL,GAAYK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAZ;AACD;;AACD,aAAOC,IAAP;AACD;;;;;;AAEF,IAAMM,MAAM,GAAG,IAAIV,SAAJ,EAAf;AACA,eAAeU,MAAf","sourcesContent":["const URL = \"http://localhost:8080/jwtbackend\";\r\n\r\nfunction handleHttpErrors(res) {\r\n if (!res.ok) {\r\n   return Promise.reject({ status: res.status, fullError: res.json() })\r\n }\r\n return res.json();\r\n}\r\n\r\nclass ApiFacade {\r\n    \r\n makeOptions(method,addToken,body) {\r\n   var opts = {\r\n     method: method,\r\n     headers: {\r\n       \"Content-type\": \"application/json\",\r\n       'Accept': 'application/json',\r\n     }\r\n   }\r\n   if (addToken && this.loggedIn()) {\r\n     opts.headers[\"x-access-token\"] = this.getToken();\r\n   }\r\n   if (body) {\r\n     opts.body = JSON.stringify(body);\r\n   }\r\n   return opts; \r\n }\r\n}\r\nconst facade = new ApiFacade();\r\nexport default facade;"]},"metadata":{},"sourceType":"module"}